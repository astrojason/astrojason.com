(function(){window.app.directive("bookForm",function(){return{templateUrl:"templates/book-form",restrict:"E",controller:"BookController",scope:{link:"=",editing:"="}}})}).call(this),function(){window.app.directive("checkAvailibility",["$http",function(a){return{require:"ngModel",link:function(b,c,d,e){return c.on("keyup",function(){return e.$setValidity("unique",!0)}),c.on("blur",function(){var c;return e.$dirty&&e.$valid?(b.$broadcast("checkingAvailibility"),c="username"===e.$name?a.post("/api/checkusername",$.param({username:e.$modelValue})):a.post("/api/checkemail",$.param({email:e.$modelValue})),c.success(function(a){return b.$broadcast("checkedAvailibility"),a.success?a.available?e.$setValidity("unique",!0):e.$setValidity("unique",!1):void 0}),c.error(function(){return b.$emit("errorOccurred","Problem checking availability")})):void 0})}}}])}.call(this),function(){window.app.directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,d){return d.$validators.compareTo=function(b){return b===a.otherModelValue},a.$watch("otherModelValue",function(){return d.$validate()})}}})}.call(this),function(){window.app.directive("linkForm",function(){return{templateUrl:"templates/link-form",restrict:"E",controller:"LinkController",scope:{link:"=",editing:"="}}})}.call(this);